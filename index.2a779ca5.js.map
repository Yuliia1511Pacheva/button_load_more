{"mappings":"AAMA,MAAMA,EAAOC,SAASC,cAAc,gBAC9BC,EAAUF,SAASC,cAAc,YACjCE,EAAgBH,SAASC,cAAc,cAE7C,IAAIG,EAAiB,IAAIC,eAAe,cAGpCC,EAAO,GACPC,EAAc,GAGdC,EAAaC,KAAKC,MAAMC,MAgD5BC,eAAeC,EAAUC,EAAOC,GAC9B,MAEMC,EAAS,IAAIC,gBAAgB,CACjCC,IAFU,qCAGVC,EAAGL,EACHM,WAAY,QACZC,YAAa,aACbC,WAAY,OACZC,SA1DW,GA2DXC,KAAMT,IAIR,IACE,MAAMU,QAAiBC,MAAMC,IAAI,4BAAeX,MAC1CY,KAAEA,GAASH,EACjB,OAAOG,C,CACP,MAAOC,GACPC,QAAQD,MAAMA,E,EAIlB,SAASE,EAAaC,GACpB,OAAOA,EACJC,KACC,EAACC,UACCA,EAASC,SACTA,EAAQC,MACRA,EAAKC,MACLA,EAAKC,KACLA,EAAIC,cACJA,EAAaC,aACbA,KACI,4CAECD,oBACCC,WAAsBF,qHAIXD,iEAGDD,oEAGGD,qEAGCD,sCAMvBO,KAAK,G,CAtGV1C,EAAK2C,iBAAiB,UAGtB,SAAkBC,GAChBA,EAAIC,iBACJrC,EAAcoC,EAAIE,cAAcC,SAASC,YAAYC,MAAMC,OAE3DpC,EAAUN,EAAaD,GACpB4C,MAAKtB,IACJ,IAAKA,EAAKuB,KAAKC,SAAW7C,EAMxB,OALA8C,SAASC,OAAOC,QACd,4EAEFrD,EAAQsD,UAAY,QACpBrD,EAAcsD,QAAS,GAGrB7B,EAAKuB,OACPjD,EAAQsD,UAAY,GACpBH,SAASC,OAAOI,QAAQ,oBAAoB9B,EAAK+B,qBACjDzD,EAAQ0D,mBAAmB,YAAa7B,EAAaH,EAAKuB,OAG1D/C,EAAeyD,UACf1D,EAAcsD,QAAS,E,IAG1BK,OAAMC,GAAOjC,QAAQkC,IAAID,I,IA1B9B5D,EAAcuC,iBAAiB,SA6B/B,WACEpC,GAAQ,EACFA,IAASE,IACX6C,SAASC,OAAOW,KACd,iEAEF9D,EAAc+D,MAAMC,QAAU,QAGlCtD,EAAUN,EAAaD,GAAM4C,MAAKtB,IAChC1B,EAAQ0D,mBAAmB,YAAa7B,EAAaH,EAAKuB,OAE1D/C,EAAeyD,SAAS,G","sources":["src/index.js"],"sourcesContent":["// import axios from 'axios';\n// import Notiflix from 'notiflix';\n// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n// import './css/styles.css';\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\nconst paginationBtn = document.querySelector('.load-more');\n\nlet simplelightbox = new SimpleLightbox('.gallery a');\n\n\nlet page = 12;\nlet searchQuery = '';\nlet limit = 500;\nlet per_page = 40;\nlet totalPages = Math.round(limit / per_page);\n\nform.addEventListener('submit', onSubmit);\npaginationBtn.addEventListener('click', onPagination);\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  searchQuery = evt.currentTarget.elements.searchQuery.value.trim();\n\n  getPhotos(searchQuery, page)\n    .then(data => {\n      if (!data.hits.length || !searchQuery) {\n        Notiflix.Notify.failure(\n          'Sorry, there are no images matching your search query. Please try again.'\n        );\n        gallery.innerHTML = '';\n        paginationBtn.hidden = true;\n        return;\n      }\n      if (data.hits) {\n        gallery.innerHTML = '';\n        Notiflix.Notify.success(`Hooray! We found ${data.totalHits} images.`);\n        gallery.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n\n       \n        simplelightbox.refresh();\n        paginationBtn.hidden = false;\n      }\n    })\n    .catch(err => console.log(err));\n}\n\nfunction onPagination() {\n  page += 1;\n    if (page === totalPages) {\n      Notiflix.Notify.info(\n        'We are sorry, but you have reached the end of search results.'\n      );\n      paginationBtn.style.display = 'none';\n    }\n\n  getPhotos(searchQuery, page).then(data => {\n    gallery.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n\n    simplelightbox.refresh();\n  });\n}\n\nasync function getPhotos(query, page) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const KEY = '35795496-dc73936924deac0cc2e60d251';\n  const params = new URLSearchParams({\n    key: KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    per_page: per_page,\n    page: page\n  });\n\n  // const URL = `${BASE_URL}?key=${KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${per_page}&page=${page}`;\n  try {\n    const response = await axios.get(`${BASE_URL}?${params}`);\n    const { data } = response;\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        downloads,\n        comments,\n        views,\n        likes,\n        tags,\n        largeImageURL,\n        webformatURL,\n      }) => `\n  <div class=\"photo-card\">\n  <a href=\"${largeImageURL}\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"250\" loading=\"lazy\" />\n  </a>\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes</b> <br>${likes}\n    </p>\n    <p class=\"info-item\">\n      <b>Views</b><br>${views}\n    </p>\n    <p class=\"info-item\">\n      <b>Comments</b><br>${comments}\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads</b><br>${downloads}\n    </p>\n  </div>\n</div>\n  `\n    )\n    .join('');\n}\n\n\nfunction smoothScroll() {\n   const { height: cardHeight } = document\n     .querySelector('.gallery')\n     .firstElementChild.getBoundingClientRect();\n\n   window.scrollBy({\n     top: cardHeight * 2,\n     behavior: 'smooth',\n   });\n}"],"names":["$1f0dc3b9307be026$var$form","document","querySelector","$1f0dc3b9307be026$var$gallery","$1f0dc3b9307be026$var$paginationBtn","$1f0dc3b9307be026$var$simplelightbox","SimpleLightbox","$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$searchQuery","$1f0dc3b9307be026$var$totalPages","Math","round","$1f0dc3b9307be026$var$limit","async","$1f0dc3b9307be026$var$getPhotos","query","page1","params","URLSearchParams","key","q","image_type","orientation","safesearch","per_page","page","response","axios","get","data","error","console","$1f0dc3b9307be026$var$createMarkup","arr","map","downloads","comments","views","likes","tags","largeImageURL","webformatURL","join","addEventListener","evt","preventDefault","currentTarget","elements","searchQuery","value","trim","then","hits","length","Notiflix","Notify","failure","innerHTML","hidden","success","totalHits","insertAdjacentHTML","refresh","catch","err","log","info","style","display"],"version":3,"file":"index.2a779ca5.js.map"}